<!-- <h2>Iniciar sesiÃ³n</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="login-form" novalidate>
  <div class="field">
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" />
    @if (hasError('email', 'required')) {
      <p class="error">El email es obligatorio.</p>
    }
    @if (hasError('email', 'email')) {
      <p class="error">IngresÃ¡ un email vÃ¡lido.</p>
    }
  </div>

  <div class="field">
    <label for="password">ContraseÃ±a</label>
    <input id="password" type="password" formControlName="password" />
    @if (hasError('password', 'required')) {
      <p class="error">La contraseÃ±a es obligatoria.</p>
    }
    @if (hasError('password', 'minlength')) {
      <p class="error">MÃ­nimo 4 caracteres.</p>
    }
  </div>

  <button type="submit" [disabled]="loading || form.invalid">
    {{ loading ? 'Ingresando...' : 'Ingresar' }}
  </button>

  @if (error) {
    <p class="error global-error">{{ error }}</p>
  }

  <p class="hint">
  No tenes cuenta?
    <a routerLink="/register" [queryParams]="returnUrl ? { returnUrl: returnUrl } : null">Registrate acÃ¡</a>
  </p>
</form>
 -->

 <div
  class="flex min-h-screen items-center justify-center overflow-x-hidden
         bg-cover bg-center bg-no-repeat py-10"
>
  <div class="relative flex items-center justify-center px-4 sm:px-6 lg:px-8">
   

    <div class="bg-base-100 shadow-base-300/20 z-10 w-full space-y-6 rounded-xl p-6 shadow-md sm:min-w-md lg:p-8">
      <div class="flex items-center gap-3">
        <img src="https://cdn.flyonui.com/fy-assets/logo/logo.png" class="size-8" alt="brand-logo" />
        <h2 class="text-base-content text-xl font-bold">GestiÃ³n de Turnos</h2>
      </div>

      <div>
        <h3 class="text-base-content mb-1.5 text-2xl font-semibold">Iniciar sesiÃ³n</h3>
        <p class="text-base-content/80">EntrÃ¡ para gestionar tus reservas.</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4" novalidate>
<div class="input-floating w-96">
  <input
    id="email"
    type="email"
    placeholder="ejemploMail@gmail.com"
    class="input hover:bg-[var(--bg)]"
    formControlName="email"
    [class.is-invalid]="isInvalid('email')"
    [class.is-valid]="isValid('email')"
    [attr.aria-invalid]="isInvalid('email') ? 'true' : null"
  />

  <label class="input-floating-label" for="email">Email</label>

  @if (isInvalid('email')) {
    <span class="helper-text ps-3 text-[var(--danger)]">
      @if (hasError('email','required')) { El email es obligatorio. }
      @else if (hasError('email','email')) { IngresÃ¡ un email vÃ¡lido. }
      @else { Campo invÃ¡lido. }
    </span>
  } @else if (isValid('email')) {
    <span class="helper-text ps-3">Se ve bien.</span>
  }
</div>


<div class="input-floating w-96 relative">
  <input
    id="password"
    [type]="showPassword ? 'text' : 'password'"
    
    class="input hover:bg-[var(--bg)] pr-12"
    formControlName="password"
    [class.is-invalid]="isInvalid('password')"
    [class.is-valid]="isValid('password')"
    [attr.aria-invalid]="isInvalid('password') ? 'true' : null"
  />

  <label class="input-floating-label" for="password">ContraseÃ±a</label>

  <button
    type="button"
    class="btn btn-text btn-sm absolute right-2 top-1/2 -translate-y-1/2"
    (click)="showPassword = !showPassword"
    [attr.aria-label]="showPassword ? 'Ocultar contraseÃ±a' : 'Mostrar contraseÃ±a'"
    tabindex="-1"
  >
    {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
  </button>

  @if (isInvalid('password')) {
    <span class="helper-text ps-3 text-[var(--danger)]">
      @if (hasError('password','required')) { La contraseÃ±a es obligatoria. }
      @else if (hasError('password','minlength')) { MÃ­nimo 4 caracteres. }
      @else { Campo invÃ¡lido. }
    </span>
  } @else if (isValid('password')) {
    <span class="helper-text ps-3">Se ve bien.</span>
  }
</div>



        <div class="flex items-center justify-between gap-y-2">
       

          <a routerLink="/forgot-password" class="link link-animated link-primary font-normal">
            Â¿Olvidaste tu contraseÃ±a?
          </a>
        </div>

        <button
          type="submit"
          class="btn btn-lg btn-primary btn-gradient btn-block"
          [disabled]="loading || form.invalid"
        >
          {{ loading ? 'Ingresando...' : 'Ingresar' }}
        </button>

        @if (error) {
          <p class="text-center text-sm text-[var(--danger)]">{{ error }}</p>
        }
      </form>

      <p class="text-base-content/80 text-center">
        Â¿No tenÃ©s cuenta?
        <a
          routerLink="/register"
          [queryParams]="returnUrl ? { returnUrl: returnUrl } : null"
          class="link link-animated link-primary font-normal"
        >
          Registrate acÃ¡
        </a>
      </p>
    </div>
  </div>
</div>
