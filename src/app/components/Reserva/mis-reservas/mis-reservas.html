<div class="mis-reservas">
  <div class="mis-reservas-header">
    <h2>{{ tituloReservas }}</h2>
    @if (mostrarBotonNuevaReserva()) {
      <button
        type="button"
        class="nueva-reserva-btn"
        [class.nueva-reserva-btn--disabled]="esAdmin()"
        [attr.aria-disabled]="esAdmin()"
        [title]="esAdmin() ? 'Los administradores no pueden crear reservas' : ''"
        (click)="onNuevaReserva()"
      >
        Nueva reserva
      </button>
    }
  </div>
  @if (loading) {
    <p class="no-reservas">Cargando reservas...</p>
  } @else if (reservas && reservas.length > 0) {
    <div class="reservas-grid">
      @for (reserva of reservas; track reserva.id) {
        <app-card-reserva
          [reserva]="reserva"
          (reservaClick)="onReservaClick($event)"
        ></app-card-reserva>
      }
    </div>
  } @else {
    <p class="no-reservas">
      {{ mensajeClienteSinReservas || 'No hay reservas activas.' }}
    </p>
  }
</div>
